route_callbacks:
  - '\Drupal\discussions\Routing\GroupDiscussionRouteProvider::getRoutes'

entity.discussion.canonical:
  path: '/discussions/{discussion}'
  defaults:
    _entity_view: 'discussion'
    _title: 'Discussion'
  requirements:
    _permission: 'access discussions'

entity.discussion.collection:
  path: '/discussions'
  defaults:
    _entity_list: 'discussion'
    _title: 'Discussions'
  requirements:
    _group_discussion_access: 'TRUE'
  options:
    _group_operation_route: 'TRUE'
  #requirements:
  #  _permission: 'access discussions'

entity.group_content.group_discussion_add_form:
  path: '/discussions/add/{discussion_type}'
  defaults:
    _controller: '\Drupal\discussions\Controller\GroupDiscussionController::addForm'
    _title: 'Add Discussion'
  options:
    parameters:
      discussion_type:
        type: 'entity:discussion_type'
  requirements:
    _permission: 'access discussions'

entity.discussion.add_form:
  path: '/discussions/add/{discussion_type}'
  defaults:
    _controller: '\Drupal\discussions\Controller\DiscussionController::addForm'
    _title: 'Add Discussion'
  options:
    parameters:
      discussion_type:
        type: 'entity:discussion_type'
  requirements:
    _permission: 'access discussions'

entity.discussion.edit:
  path: '/discussions/{discussion}/edit'
  defaults:
    _entity_form: 'discussion.edit'
    _title: 'Edit Discussion'
  requirements:
    _permission: 'access discussions'

entity.discussion_type.collection:
  path: '/admin/structure/discussions/discussion_type'
  defaults:
    _entity_list: 'discussion_type'
    _title: 'Discussion Types'
  requirements:
    _permission: 'administer discussions'

entity.discussion_type.add_form:
  path: '/admin/structure/discussions/discussion_type/add'
  defaults:
    _entity_form: 'discussion_type.add'
    _title: 'Add Discussion Type'
  requirements:
    _permission: 'administer discussions'

entity.discussion_type.edit_form:
  path: '/admin/structure/discussions/discussion_type/{discussion_type}/edit'
  defaults:
    _entity_form: 'discussion_type.edit'
  requirements:
    _permission: 'administer discussions'

entity.discussion_type.delete_form:
  path: '/admin/structure/discussions/discussion_type/{discussion_type}/delete'
  defaults:
    _entity_form: 'discussion_type.delete'
    _title: 'Delete Discussion Type'
  requirements:
    _entity_access: 'discussion_type.delete'
